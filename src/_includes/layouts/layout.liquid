<!doctype html>
<html lang="en">
  <head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta
      name="description"
      content="{{ description | default: 'The Personal Website of Omar Almasry: An Independent UX Engineer' }}"
    >
    <meta name="author" content="Omar Almasry">
    <title>{{ title | default: 'Omar Almasry Portfolio' }}</title>

    <!-- Dynamic Favicon managed via /scripts/dynamic-favicon.js -->
    <script src="/scripts/dynamic-favicon.js" defer></script>
    <link rel="manifest" href="/site.webmanifest">

    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="{{ title | default: "Omar Almasry\s Personal Website" }}">
    <meta
      property="og:description"
      content="{{ description | default: 'Showcasing scalable, high-performance websites optimized for enterprises.' }}"
    >
    <meta property="og:image" content="{{ og_image | default: '/images/png/og.png' }}">
    <meta property="og:url" content="{{ page_url | default: 'https://omaralmasry.com' }}">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ title | default: "Omar Almasry\'s Portfolio" }}">
    <meta
      name="twitter:description"
      content="{{ description | default: 'Crafting accessible, high-performance websites and digital products. UX Engineer helping brands deliver seamless user experiences.' }}"
    >
    <meta name="twitter:image" content="{{ og_image | default: '/images/png/og.png' }}">

    <!-- Robots Meta -->
    <meta name="robots" content="index, follow">

    <!-- Stylesheet -->
    <link href="/dist/output.css" rel="stylesheet">
    <noscript>
      <style>
        .load_grid {
          display: none !important;
        }
      </style>
    </noscript>
  </head>
  <body>
    <div class="load_grid">
      {% for i in (1..100) %}
        <div class="load_grid-item"></div>
      {% endfor %}
    </div>
    <script>
      (function () {
        const colors = ['#FB8304', '#40BFAE', '#FE3300', '#3d60e2', '#EDF060'];
        const items = document.querySelectorAll('.load_grid-item');
        const storedColors = sessionStorage.getItem('transitionColors');

        if (storedColors) {
          const colorArray = JSON.parse(storedColors);
          items.forEach((item, i) => {
            if (colorArray[i]) item.style.backgroundColor = colorArray[i];
          });
        } else {
          const newColors = [];
          items.forEach((item) => {
            const color = colors[Math.floor(Math.random() * colors.length)];
            item.style.backgroundColor = color;
            newColors.push(color);
          });
          sessionStorage.setItem('transitionColors', JSON.stringify(newColors));
        }
      })();
    </script>
    {% render 'partials/navbar', page: page %}
    <main>
      {{ content }}
    </main>
    {% render 'partials/footer' %}

    <!-- Custom Cursor -->
    <div class="cursor-wrapper">
      <div class="cursor">
        <div class="cursor_dot"></div>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="/scripts/main.js" defer></script>
    <script src="/scripts/cursor.js" defer></script>
    <script src="/scripts/colorful-heading.js" defer></script>
    <script src="/scripts/page-transition.js" defer></script>
    <script src="/scripts/cta-grid-animation.js" defer></script>
  </body>
</html>
